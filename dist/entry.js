var K=function(){return localStorage.getItem("jsEnv")||"prod"};window.ENV=K();window.setENV=(w)=>{if(w!=="dev"&&w!=="prod"){console.error("Invalid environment. Pass `dev` or `prod`");return}localStorage.setItem("jsEnv",w),console.log(`Environment successfully set to ${w}`)};function Q(){const w=localStorage.getItem("IS_DEBUG_MODE");if(w&&w==="true")return!0;return!1}window.IS_DEBUG_MODE=Q();window.DEBUG=function(...w){if(window.IS_DEBUG_MODE)console.log(...w)};window.setDebugMode=(w)=>{localStorage.setItem("IS_DEBUG_MODE",w.toString())};var Y=function(){if(console.log(`Current mode: ${window.ENV}`),window.ENV==="dev")$()},Z=function(){const w=window.ENV==="dev"?y:W;window.JS_SCRIPTS?.forEach((f)=>{const x=document.createElement("script");x.src=w+f,x.defer=!0;const k=new Promise((z,G)=>{x.onload=z,x.onerror=()=>{console.error(`Failed to load script: ${f}`)}});q.push(k),document.body.appendChild(x)}),Promise.allSettled(q).then(()=>{window.DEBUG("All scripts loaded"),window.dispatchEvent(new CustomEvent(X))})},$=function(){const f=new AbortController,x=setTimeout(()=>{f.abort()},300);fetch(y,{signal:f.signal}).then((k)=>{if(!k.ok)throw console.error({response:k}),new Error("localhost response not ok")}).catch(()=>{console.error("localhost not resolved. Switching to production"),window.setENV("prod")}).finally(()=>{clearTimeout(x),Z()})},y="http://localhost:3000/",W="https://cdn.jsdelivr.net/gh/igniteagency/webflow-js-starter/dist/";window.JS_SCRIPTS=new Set;var X="scriptsLoaded",q=[];window.addEventListener("DOMContentLoaded",Y);window.Webflow=window.Webflow||[];window.Webflow.push(()=>{});export{X as SCRIPTS_LOADED_EVENT};
